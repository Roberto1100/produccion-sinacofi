<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<MapBrokers xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="MapBrokers_2.xsd">
   <MapBroker dmlCompatibility="2.1" id="ee134739-5160-48cd-a370-c23d36424b2d" label="" lastModified="2024-05-14T22:45:28.000Z" name="MAPSERVICE_Sinacofi_P38_P38_FT3::MAPSERVICE.Sinacofi_P38.Main_Block_Evento" xmlVersion="1.0">
      <DmlMapBroker>
         <InputBusinessDocuments/>
         <DecisionPath>
            <StepMappingRule>
               <MappingRule id="e2aa1ebc-b237-4432-9516-c8807af16404" label="" lastModified="2024-08-08T14:21:44.000Z" name="MAPSERVICE_Sinacofi_P38_P38_FT3::MAPSERVICE.Sinacofi_P38.Creacion_LOG:Creacion_LOG" xmlVersion="1.0">
                  <OutputBusinessDocument id="71f44ac7-e0fc-43a2-a5e8-b4e4f19e3968">
                     <name>MAPSERVICE_Sinacofi_P38_P38_FT3::MAPSERVICE.Sinacofi_P38\Validacion_y_Error.LOG</name>
                     <lastModified>2024-08-08T14:21:44.000Z</lastModified>
                  </OutputBusinessDocument>
                  <MappingElement ElementReferenceId="2">
                     <Expression>
                        <DmlExpression><![CDATA[%Sinacofi_P38.debug:=getTraces();
%Sinacofi_P38.debug]]></DmlExpression>
                     </Expression>
                     <Comment/>
                  </MappingElement>
               </MappingRule>
               <StepOutput>
                  <OutputName>out</OutputName>
               </StepOutput>
            </StepMappingRule>
            <StepStep>
               <DmlExpression><![CDATA[setDocumentAttributeToOutput( "out",  "B2BXGISend_ProductionFilename", formatString(getDateAndTime(), "CCYYMMDDhhmmss")  + "_" + %Sinacofi_P38.correlativoPrefijo + "_" + %Sinacofi_P38.usuarioPrefijo&"_"&%Sinacofi_P38.NombreArchivo&".LOG")]]></DmlExpression>
            </StepStep>
            <StepMappingRule>
               <MappingRule id="0ec8f17a-d821-4f65-8563-7046f3f4c256" label="" lastModified="2024-08-08T14:21:44.000Z" name="MAPSERVICE_Sinacofi_P38_P38_FT3::MAPSERVICE.Sinacofi_P38.Creacion_Resultado_NK:Creacion_Resultado_NK" xmlVersion="1.0">
                  <OutputBusinessDocument id="7422d2f4-35a3-4ffb-938f-240200fa7981">
                     <name>MAPSERVICE_Sinacofi_P38_P38_FT3::MAPSERVICE.Sinacofi_P38\Mensajeria.Resultado</name>
                     <lastModified>2024-08-08T14:21:44.000Z</lastModified>
                  </OutputBusinessDocument>
                  <MappingElement ElementReferenceId="7">
                     <Expression>
                        <DmlExpression><![CDATA["FIN_MENSAJE"]]></DmlExpression>
                     </Expression>
                     <Comment/>
                  </MappingElement>
                  <MappingElement ElementReferenceId="2">
                     <Expression>
                        <DmlExpression><![CDATA["MENSAJE_RESULTADO"]]></DmlExpression>
                     </Expression>
                     <Comment/>
                  </MappingElement>
                  <MappingElement ElementReferenceId="4">
                     <Expression>
                        <DmlExpression><![CDATA[padStringRight(%NombreArchivo, 20,  " ")&"NK"]]></DmlExpression>
                     </Expression>
                     <Comment/>
                  </MappingElement>
                  <MappingElement ElementReferenceId="5">
                     <Expression>
                        <DmlExpression><![CDATA[if( (%Sinacofi_P38.var_error1 <> "OK"))then{
		%Sinacofi_P38.glosa:= "Error Interno"
	} else {
		%Sinacofi_P38.glosa:= "Detalles con los errores ver en sitio web"
	};
%Sinacofi_P38.glosa]]></DmlExpression>
                     </Expression>
                     <Comment/>
                  </MappingElement>
               </MappingRule>
               <StepOutput>
                  <OutputName>out1</OutputName>
               </StepOutput>
            </StepMappingRule>
         </DecisionPath>
      </DmlMapBroker>
   </MapBroker>
</MapBrokers>
